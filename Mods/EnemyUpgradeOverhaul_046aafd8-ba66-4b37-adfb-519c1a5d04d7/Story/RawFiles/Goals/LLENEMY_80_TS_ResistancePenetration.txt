Version 1
SubGoalCombiner SGC_AND
INITSECTION
KBSECTION

/* [OSITOOLS_ONLY]
IF
NRD_OnPrepareHit(_Target, _Source, _Damage, _Handle)
AND
_Damage > 0
AND
ObjectGetFlag(_Source, "LLENEMY_HasResistancePenetration", 1)
AND
LeaderLib_Hit_QRY_HitSucceeded(_Target, _Handle, 1)
AND
GetUUID(_Target, _TargetUUID)
AND
GetUUID(_Source, _SourceUUID)
THEN
NRD_ModCall("EnemyUpgradeOverhaul", "SaveDamageAmountForResistancePenetration", _TargetUUID, _SourceUUID, (STRING)_Damage, (STRING)_Handle);

IF
NRD_OnHit(_Target, _Source, _Damage, _Handle)
AND
DB_LLENEMY_HasDamagePenetration(_Target, _Source)
AND
GetUUID(_Target, _TargetUUID)
AND
GetUUID(_Source, _SourceUUID)
THEN
NOT DB_LLENEMY_HasDamagePenetration(_Target, _Source);
NRD_ModCall("EnemyUpgradeOverhaul", "ApplyResistancePenetration", _TargetUUID, _SourceUUID, (STRING)_Damage, (STRING)_Handle);
*/

EXITSECTION
ENDEXITSECTION
ParentTargetEdge "LLENEMY_80_ToggledScripts"